<docs>
[TODO: write documentation for this plugin.]
</docs>

<config lang="json">
{
  "name": "Test Web Worker Plugin 2",
  "type": "web-worker",
  "tags": [],
  "ui": "",
  "version": "0.1.0",
  "api_version": "0.1.7",
  "url": "",
  "description": "[TODO: describe this plugin with one sentence.]",
  "icon": "extension",
  "inputs": null,
  "outputs": null,
  "env": "",
  "requirements": [],
  "dependencies": []
}
</config>

<script lang="javascript">
class ImJoyPlugin {
  async setup() {
  }

  async run(my) {
    console.log('running in plugin 2.')
    return my
  }

  async square(arg) {
    return arg*arg
  }

  _rpcEncode(d){
    if(d === 99*99){
      return {__rpc_dtype__: 'my_special_number'}
    }
    return d
  }
}

api.export(new ImJoyPlugin())
</script>

<attachment name='some_text_data'>
hello world!
</attachment>
